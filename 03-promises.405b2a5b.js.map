{"mappings":"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","sources":["node_modules/@swc/helpers/lib/_check_private_redeclaration.js","node_modules/@swc/helpers/lib/_class_call_check.js","node_modules/@swc/helpers/lib/_class_private_method_get.js","node_modules/@swc/helpers/lib/_class_private_method_init.js","node_modules/@swc/helpers/lib/_create_class.js","src/js/03-promises.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _checkPrivateRedeclaration;\nfunction _checkPrivateRedeclaration(obj, privateCollection) {\n    if (privateCollection.has(obj)) {\n        throw new TypeError(\"Cannot initialize the same private elements twice on an object\");\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classCallCheck;\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError(\"Cannot call a class as a function\");\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classPrivateMethodGet;\nfunction _classPrivateMethodGet(receiver, privateSet, fn) {\n    if (!privateSet.has(receiver)) {\n        throw new TypeError(\"attempted to get private field on non-instance\");\n    }\n    return fn;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classPrivateMethodInit;\nvar _checkPrivateRedeclaration = _interopRequireDefault(require(\"./_check_private_redeclaration\"));\nfunction _classPrivateMethodInit(obj, privateSet) {\n    (0, _checkPrivateRedeclaration).default(obj, privateSet);\n    privateSet.add(obj);\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _createClass;\nfunction _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n}\nfunction _defineProperties(target, props) {\n    for(var i = 0; i < props.length; i++){\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n    }\n}\n","import Notiflix from 'notiflix';\n\nclass PromiseCreator {\n  constructor(delay, step, amount) {\n    this.delay = delay;\n    this.step = step;\n    this.amount = amount;\n  }\n  #createPromise(position, delay) {\n    const shouldResolve = Math.random() > 0.3;\n\n    return new Promise((resolve, reject) => {\n      setTimeout(() => {\n        if (shouldResolve) {\n          resolve({ position, delay });\n        } else {\n          reject({ position, delay });\n        }\n      }, delay);\n    });\n  }\n\n  start(e) {\n    e.preventDefault();\n\n    let delay = Number(this.delay.value);\n    const step = Number(this.step.value);\n    const amount = Number(this.amount.value);\n\n    for (let i = 1; i <= amount; i += 1) {\n      this.#createPromise(i, delay)\n        .then(({ position, delay }) => {\n          Notiflix.Notify.success(\n            `✅ Fulfilled promise ${position} in ${delay}ms`\n          );\n        })\n        .catch(({ position, delay }) => {\n          Notiflix.Notify.failure(\n            `❌ Rejected promise ${position} in ${delay}ms`\n          );\n        });\n      delay += step;\n    }\n  }\n}\n\nconst refs = {\n  form: document.querySelector('.form'),\n  fieldDelay: document.querySelector('[name=\"delay\"]'),\n  fieldStep: document.querySelector('[name=\"step\"]'),\n  fieldAmount: document.querySelector('[name=\"amount\"]'),\n};\nconst { form, fieldDelay, fieldStep, fieldAmount } = refs;\nconst promiseCreator = new PromiseCreator(fieldDelay, fieldStep, fieldAmount);\n\nform.addEventListener('submit', promiseCreator.start.bind(promiseCreator));\n"],"names":["Object","defineProperty","module","exports","value","default","obj","privateCollection","has","TypeError","$665014edacbfe17b$exports","instance","Constructor","$82ce8d6f4ce6ea51$exports","receiver","privateSet","fn","$b5362597a15e80da$exports","$b5362597a15e80da$var$_checkPrivateRedeclaration","add","parcelRequire","__esModule","$74e7f8130373505f$var$_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","$74e7f8130373505f$exports","protoProps","staticProps","prototype","$ce04d3a99e08e73b$var$_createPromise","WeakSet","$ce04d3a99e08e73b$var$PromiseCreator","PromiseCreator","delay","step","amount","$parcel$interopDefault","this","e","preventDefault","delay1","Number","$ce04d3a99e08e73b$var$createPromise","call","then","param","position","$6JpON","Notify","success","concat","catch","failure","shouldResolve","Math","random","Promise","resolve","reject","setTimeout","$ce04d3a99e08e73b$var$refs","form","document","querySelector","fieldDelay","fieldStep","fieldAmount","$ce04d3a99e08e73b$var$form","$ce04d3a99e08e73b$var$promiseCreator","addEventListener","start","bind"],"version":3,"file":"03-promises.405b2a5b.js.map"}