{"mappings":"ujBACAA,OAAOC,eAAeC,EAAAC,QAAS,aAAc,CACzCC,OAAO,IAEXF,EAAAC,QAAQE,QACR,SAAoCC,EAAKC,GACrC,GAAIA,EAAkBC,IAAIF,GACtB,MAAM,IAAIG,UAAU,iE,cCN5BT,OAAOC,eAAeS,EAAS,aAAc,CACzCN,OAAO,IAEXM,EAAQL,QACR,SAAgCM,EAAUC,EAAYC,GAClD,IAAKD,EAAWJ,IAAIG,GAChB,MAAM,IAAIF,UAAU,kDAExB,OAAOI,C,WCRXb,OAAOC,eAAea,EAAS,aAAc,CACzCV,OAAO,IAEXU,EAAQT,QAER,SAAiCC,EAAKM,GAClCG,EAAgCV,QAAQC,EAAKM,GAC7CA,EAAWI,IAAIV,E,EAHnB,IAKgCA,EAL5BS,GAK4BT,EALwBW,EAAA,WAMtCX,EAAIY,WAAaZ,EAAM,CACjCD,QAASC,G,iBCJfa,EAAc,IAAAC,QAAd,SAAAC,EAAeC,EAAUC,GACvB,MAAMC,EAAgBC,KAAKC,SAAW,GAEtC,OAAO,IAAIC,SAAQ,CAACC,EAASC,KAC3BC,YAAW,KACLN,EACFI,EAAQ,C,SAAEN,E,MAAUC,IAEpBM,EAAO,C,SAAEP,E,MAAUC,GAAQ,GAE5BA,EAAM,G,CA4Bf,MAAMQ,EAAO,CACXC,KAAMC,SAASC,cAAc,SAC7BC,WAAYF,SAASC,cAAc,kBACnCE,UAAWH,SAASC,cAAc,iBAClCG,YAAaJ,SAASC,cAAc,qBAEhCF,KAAEM,EAAIH,WAAEI,EAAUH,UAAEI,EAASH,YAAEI,GAAgBV,EAC/CW,EAAiB,IAnDvB,MAoBEC,MAAMC,GACJA,EAAEC,iBAEF,IAAIC,EAAQC,OAAOC,KAAKzB,MAAMnB,OAC9B,MAAM6C,EAAOF,OAAOC,KAAKC,KAAK7C,OACxB8C,EAASH,OAAOC,KAAKE,OAAO9C,OAElC,IAAK,IAAI+C,EAAI,EAAGA,GAAKD,EAAQC,GAAK,EAChCC,EAAA1C,EAAA,CAAAsC,KAAM7B,EAAAE,GAAagC,KAAnBL,KAAoBG,EAAGL,GACpBQ,MAAK,EAAChC,SAAEA,EAAQC,MAAEA,MACjB6B,EAAAG,GAASC,OAAOC,QACd,uBAAqBnC,QAAiBC,MAAU,IAGnDmC,OAAM,EAACpC,SAAEA,EAAQC,MAAEA,MAClB6B,EAAAG,GAASC,OAAOG,QACd,sBAAoBrC,QAAeC,MAAU,IAGnDuB,GAASG,C,CAtCbW,YAAYrC,EAAO0B,EAAMC,GAKzBE,EAAAtC,EAAA,CAAAkC,KAAA7B,GAJE6B,KAAKzB,MAAQA,EACbyB,KAAKC,KAAOA,EACZD,KAAKE,OAASA,C,GA+CwBX,EAAYC,EAAWC,GAEjEH,EAAKuB,iBAAiB,SAAUnB,EAAeC,MAAMmB,KAAKpB","sources":["node_modules/@swc/helpers/lib/_check_private_redeclaration.js","node_modules/@swc/helpers/lib/_class_private_method_get.js","node_modules/@swc/helpers/lib/_class_private_method_init.js","src/js/03-promises.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _checkPrivateRedeclaration;\nfunction _checkPrivateRedeclaration(obj, privateCollection) {\n    if (privateCollection.has(obj)) {\n        throw new TypeError(\"Cannot initialize the same private elements twice on an object\");\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classPrivateMethodGet;\nfunction _classPrivateMethodGet(receiver, privateSet, fn) {\n    if (!privateSet.has(receiver)) {\n        throw new TypeError(\"attempted to get private field on non-instance\");\n    }\n    return fn;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classPrivateMethodInit;\nvar _checkPrivateRedeclaration = _interopRequireDefault(require(\"./_check_private_redeclaration\"));\nfunction _classPrivateMethodInit(obj, privateSet) {\n    (0, _checkPrivateRedeclaration).default(obj, privateSet);\n    privateSet.add(obj);\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","import Notiflix from 'notiflix';\n\nclass PromiseCreator {\n  constructor(delay, step, amount) {\n    this.delay = delay;\n    this.step = step;\n    this.amount = amount;\n  }\n  #createPromise(position, delay) {\n    const shouldResolve = Math.random() > 0.3;\n\n    return new Promise((resolve, reject) => {\n      setTimeout(() => {\n        if (shouldResolve) {\n          resolve({ position, delay });\n        } else {\n          reject({ position, delay });\n        }\n      }, delay);\n    });\n  }\n\n  start(e) {\n    e.preventDefault();\n\n    let delay = Number(this.delay.value);\n    const step = Number(this.step.value);\n    const amount = Number(this.amount.value);\n\n    for (let i = 1; i <= amount; i += 1) {\n      this.#createPromise(i, delay)\n        .then(({ position, delay }) => {\n          Notiflix.Notify.success(\n            `✅ Fulfilled promise ${position} in ${delay}ms`\n          );\n        })\n        .catch(({ position, delay }) => {\n          Notiflix.Notify.failure(\n            `❌ Rejected promise ${position} in ${delay}ms`\n          );\n        });\n      delay += step;\n    }\n  }\n}\n\nconst refs = {\n  form: document.querySelector('.form'),\n  fieldDelay: document.querySelector('[name=\"delay\"]'),\n  fieldStep: document.querySelector('[name=\"step\"]'),\n  fieldAmount: document.querySelector('[name=\"amount\"]'),\n};\nconst { form, fieldDelay, fieldStep, fieldAmount } = refs;\nconst promiseCreator = new PromiseCreator(fieldDelay, fieldStep, fieldAmount);\n\nform.addEventListener('submit', promiseCreator.start.bind(promiseCreator));\n"],"names":["Object","defineProperty","module","exports","value","default","obj","privateCollection","has","TypeError","$c9f733bc98e3bbfd$exports","receiver","privateSet","fn","$60afe4cd2804d2bb$exports","$60afe4cd2804d2bb$var$_checkPrivateRedeclaration","add","parcelRequire","__esModule","$47d4ff9957288465$var$_createPromise","WeakSet","$47d4ff9957288465$var$createPromise","position","delay","shouldResolve","Math","random","Promise","resolve","reject","setTimeout","$47d4ff9957288465$var$refs","form","document","querySelector","fieldDelay","fieldStep","fieldAmount","$47d4ff9957288465$var$form","$47d4ff9957288465$var$fieldDelay","$47d4ff9957288465$var$fieldStep","$47d4ff9957288465$var$fieldAmount","$47d4ff9957288465$var$promiseCreator","start","e","preventDefault","delay1","Number","this","step","amount","i","$parcel$interopDefault","call","then","$7Y9D8","Notify","success","catch","failure","constructor","addEventListener","bind"],"version":3,"file":"03-promises.44c7423a.js.map"}